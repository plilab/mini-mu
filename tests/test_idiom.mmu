import "std_nat" (add)

def testBasicIdiom1 a := [ add @ _ 3 { v -> [ add @ 1 _ _ ] @ v Halt } ] @ a;

def testBasicIdiom2 a k := [ add @ _ 3 _ ] @ a k;

-- run testBasicIdiom1 @ 2;

run testBasicIdiom2 @ 2 { v -> [ add @ 1 _ _ ] @ v halt }; 
