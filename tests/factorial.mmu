import "std_nat" (mul, add)

def factorial n k :=
    let rec = seq f <- factorial n' then mul @ (S n') f k in
    n . { 0 -> 1 . k 
        | S n' -> rec };

run factorial @ 5 halt;
